## 1.下载依赖库
```shell
go get -u gorm.io/driver/mysql"
go get -u gorm.io/gorm
```

## 2.配置数据库

```go
func InitDB(url string) (*gorm.DB, error) {
    newLogger := logger.New(
        log.New(os.Stdout, "\r\n", log.LstdFlags), // io writer
        logger.Config{
            SlowThreshold:             5 * time.Second, // Slow SQL threshold
            LogLevel:                  logger.Warn, // Log level
            IgnoreRecordNotFoundError: true,        // Ignore ErrRecordNotFound error for logger
            Colorful:                  false,       // Disable color
        },
    )
    db, err := gorm.Open(mysql.Open(url), &gorm.Config{Logger: newLogger})
    if err != nil {
        return nil, err
    }
    //根据 *grom.DB 对象获得*sql.DB的通用数据库接口
    sqlDB, err := db.DB()
    if err != nil {
        return nil, err
    }
    // SetMaxIdleConn 设置空闲连接池中连接的最大数量
    sqlDB.SetMaxIdleConns(10)
    // SetMaxOpenConn 设置打开数据库连接的最大数量。
    sqlDB.SetMaxOpenConns(100)
    // SetConnMaxLifetime 设置了连接可复用的最大时间。
    sqlDB.SetConnMaxLifetime(time.Hour)
    return db, nil
}


```