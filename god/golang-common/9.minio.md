## 1. 安装依赖

```shell
go get -u github.com/minio/minio-go/v7
```

## 2. 相关代码

```go
func initMinio(config config.MinioConfig) {
	minioClient, err := minio.New(config.Endpoint, &minio.Options{
		Creds:  credentials.NewStaticV4(config.AccessKeyID, config.AccessKeySecret, ""),
		Secure: config.UseSSl,
	})
	if err != nil {
		panic(err)
	}
	resource.MinioClient = minioClient
}
```
> 初始化

```go
package oss

import (
	"bytes"
	"context"

	"github.com/minio/minio-go/v7"
	log "github.com/sirupsen/logrus"

	"mikan/internal/resource"
)

func PutObjectWithBytes(bucketName, objectName string, data []byte) error {
	bufferReader := bytes.NewReader(data)
	size := int64(len(data))
	_, err := resource.MinioClient.PutObject(context.Background(), bucketName, objectName, bufferReader, size, minio.PutObjectOptions{})
	if err != nil {
		log.Warnf("put object[%s:%s] error %v", bucketName, objectName, err)
		return err
	}
	log.Infof("put object[%s:%s] success", bucketName, objectName)
	return nil
}

```
> 上传文件