## Bean

Bean 是 Spring 的一等公民

* Bean 的本质就是 Java 对象， 只是这个对象的声明周期由容器来管理
* 不需要为了创建 Bean 而在原来的 java 类上添加任何额外的限制
*  对 Java 对象的控制方式体现在配置上

根据配置， 生成用来描述 Bean 的 BeanDefinition， 常用属性如下

* 作用范围 `Scope`
* 懒加载 `lazy-init`
* 首先 `Primary`, 设置为 true 的 bean 会被优先注入
* `factory-bean` 和  `factory-method`

## 容器初始化核心流程



<center><img src="https://ning-wang.oss-cn-beijing.aliyuncs.com/blog-imags/20210415154707.png" alt="image-20210415154707213"  /></center>



## BeanDefinition

### 类结构

<center><img src="https://ning-wang.oss-cn-beijing.aliyuncs.com/blog-imags/20210415155515.png" alt="image-20210415155515244"  /></center>

* `BeanDefinition` 是记录 Bean 的各种信息
* `AbstracBeanDefinition` 是 `BeanDefinition` 的通用实现, 提供一些常用的工具类实现
* `RootBeanDefinition` 是根 `BeanDefinition` 表示有继承关系的 `BeanDefinition` , 现在基本已经被废弃, 只有在处理依赖注入的时候才会被使用
* `GenericBeanDefinition` 是现版本的通用实现, 基本上所有的 `BeanDefinition` 都是它
* `ChildBeanDefinition` 已经被废弃, 不用单独学习