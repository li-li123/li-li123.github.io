## volatile 的作用

`volatile` 利用操作系统的读写屏障, 保证变量的可见性。但是多线程同时对 `volatile` 读写时, 不保证原子性。适合一个写，多个读的场景。

>  例如线程的[两阶段停止](https://book.ironblog.cn/#/god/java_concurrent/interrupt%E6%96%B9%E6%B3%95%E8%AF%A6%E8%A7%A3?id=%e8%ae%be%e8%ae%a1%e6%a8%a1%e5%bc%8f%e4%b9%8b-%e4%b8%a4%e9%98%b6%e6%ae%b5%e7%bb%88%e6%ad%a2)， 或者[犹豫模式](https://book.ironblog.cn/#/god/java_concurrent/%E5%8F%AF%E8%A7%81%E6%80%A7?id=%e6%a8%a1%e5%bc%8f%e4%b9%8b-balking)等 

读写屏障的使用， [同时解决 `double-checked` 的问题](https://book.ironblog.cn/#/god/java_concurrent/%E6%9C%89%E5%BA%8F%E6%80%A7?id=volatile-%e5%8e%9f%e7%90%86)

`volatile` 共有 3 个作用

* 可见性
* 有序性
* `happen-before`

> [Java 之 volatile 详解](https://www.jianshu.com/p/5fbaee132d2b)